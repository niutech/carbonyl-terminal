@echo off
:: Carbonyl Terminal 1.0
setlocal enableDelayedExpansion
set N=^

set START_PAGE=https://start.duckduckgo.com/
set USER_HOST=carbonyl@app.kodus.pl
set RSA_KEY=-----BEGIN OPENSSH PRIVATE KEY-----!N!b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABlwAAAAdzc2gtcn!N!NhAAAAAwEAAQAAAYEAytpvyfn8jTNWoSYX1Moi0uvbadPwdylgEUz+ZzemKakg8u1EfvkJ!N!3e71FY33SgtwjtzSXOeLbS9zNVNPJ/5+vNnRx+YlqwHKL63cbK+Nor5u75fyIiPQFnvH8m!N!pNxOV8J75pkd10nHl6cUA969ezjyIGfn1os3tR+bd7V+X5QEbwZRcYQ62DoFwolF7W9Jei!N!1wriDFRgRRAiE1W/QYBmeDvBR9baK+VCrrES4g89UyhM7QWXnjZ/9wLkbdpiRGBZLJD0L6!N!3rZiwH58YWcu6eQDuzKoQ9ap94LwRuqOIR4b1SIIqkBHNiisgFRINsTEJLgJ4UrQy/Otnb!N!N6BCZaB27Sa3Ng7HwMcuGqdZu8RNdyIHYeGCNu1vbDA3ctNZGDRqqQSUSlOoRrWRszuykZ!N!rozM/07ObUpVDd+cD3Wc4lF+ZLs8kW8iAFuCNTnxKFhRgGDYckpXCfYqRmyjXPK//XzVX3!N!voI0KcyICCljcMmPs2TcrWl3VQqzt/BHRdaVJCrpAAAFiIwq0l+MKtJfAAAAB3NzaC1yc2!N!EAAAGBAMrab8n5/I0zVqEmF9TKItLr22nT8HcpYBFM/mc3pimpIPLtRH75Cd3u9RWN90oL!N!cI7c0lzni20vczVTTyf+frzZ0cfmJasByi+t3GyvjaK+bu+X8iIj0BZ7x/JqTcTlfCe+aZ!N!HddJx5enFAPevXs48iBn59aLN7Ufm3e1fl+UBG8GUXGEOtg6BcKJRe1vSXotcK4gxUYEUQ!N!IhNVv0GAZng7wUfW2ivlQq6xEuIPPVMoTO0Fl542f/cC5G3aYkRgWSyQ9C+t62YsB+fGFn!N!LunkA7syqEPWqfeC8EbqjiEeG9UiCKpARzYorIBUSDbExCS4CeFK0MvzrZ2zegQmWgdu0m!N!tzYOx8DHLhqnWbvETXciB2Hhgjbtb2wwN3LTWRg0aqkElEpTqEa1kbM7spGa6MzP9Ozm1K!N!VQ3fnA91nOJRfmS7PJFvIgBbgjU58ShYUYBg2HJKVwn2KkZso1zyv/181V976CNCnMiAgp!N!Y3DJj7Nk3K1pd1UKs7fwR0XWlSQq6QAAAAMBAAEAAAGAIAbKvX29dOGVHM4x1wOu6dQZCS!N!VQAtBCfZjFVbCAiHVOYWw6cz2IZES05xlJ4KPbuoJ8p/Ram/tw2gt0JOFWSySsrT3V1qDq!N!tgpiEbrJxtcAFs3Lib5TvSj/0XMdIigFKRUz/7aSEZ5QSY8V96VPkRqTIedU33lp4N4qGB!N!+T8aUBkURLLWw4qtnCAmLS1z0VlZP/SmkL5ft9FcZk8sd95h+xDVGLkoCYvZHxZEV5riZf!N!ttA6Nt1t6KbJP9rJxvfa9ErSWU3oBUoLDqdEzyfE4xIxJ/wNUC4Pc+s5C2hH7k3Rx3Eehn!N!+jYgvbTyQH2/T4MtuEoW+9+XNgyUPHl1GxlZahgBMXDmWs88ymElbinhCAUYKOcEUZ8Fr6!N!q7xXjqe6U6rb6yS6LkKvXR9hiqqSzltsg2WKRgA6mxHixWvWzEf9Nw0CClPFPQbQUW8/tw!N!yrlXfPEf37MDVsjlg3YRjruMhnY5tdVSvUL3hVMNuixzK8/tzxjCJs/qdUvvWuDYCBAAAA!N!wFGFwJsqBt4XLWscg0yWdVrSUv6Oxyu/59+cdd/IoLwuO8lpA140uAZFcrA2s7zSC8sM/L!N!sln96W+b3NXk9+va7DJspxOaq9QNz8tMye0Aoe3W+LhR4e8ChwuUXIwwl8fAwbljS0Boo8!N!frh5/Ngc0o3LKoCFiUdukzNGJuqf9K1nAcxKqbOG3Mz++PBJlgDIBh7PXgQnSu6vGqz1oU!N!IYaSH7sA2s52K0dSA+Fv4QsKyHYTPCOSXhUp9kpWd+TytgqQAAAMEA8gaO2M4mCVUmcStB!N!B+0+YalVzGyS+fhhh47TA5Rlu6jVmYn4VCDtNMLmkTatV3E3AbtPi5Jvg520cw5JgXzLOI!N!PiXOZNGkqsPucdclOiXJWWU3w8yYAnrkpfGI9hzmuGUKUrXlNniPZuv3usjYeq/yTE7p0L!N!eUpdGqB2it9vhHRv+HyM7JqhvBVHmFje949J2XKmSq9G/whTglpvHQOauee/y9cZ2kf1eq!N!EuEmYUUx9lYoFT+ImRhigT6pWv1LvZAAAAwQDWkNy9EyakKt6TeFUl0FxPg7ykgGOZd4UN!N!FKWmgfex2cwwPJ670qWW9d7RZtkiErcgKGFmJqAlQGavFKKwfzEaycwML2dKWxKokhiJJo!N!TtydDUh0Rq1yTR/WxQS1s+a91PELeshexMghvOfumJjXPdf1+gBZtDXnG/RcSK+i8UDmKl!N!WQgFhpbCVOw6MrtNt2HFGta8aJfYpXufBtpSuFPlFi8jwvR+DXVNEVWHJGAddOP941pVwC!N!vwzYjuFWZhzZEAAAASamVyenlAYXBwLmtvZHVzLnBsAQ==!N!-----END OPENSSH PRIVATE KEY-----
set KEY_CMD=if not exist carbonyl_rsa echo !RSA_KEY! } carbonyl_rsa
set SSH_CMD=ssh -C -i carbonyl_rsa -p 2222 -o StrictHostKeyChecking=no -o SendEnv=START_PAGE
set MOSH_CMD=wsl START_PAGE=%START_PAGE% MOSH_TITLE_NOPREFIX=1 mosh -p 60000:60100 --ssh="%SSH_CMD:-i =-i ~/.ssh/%" %USER_HOST%
echo Connecting to Carbonyl...
(!KEY_CMD:}=>!) && %MOSH_CMD% || %SSH_CMD% %USER_HOST%
